function round(t,e){return"undefined"==typeof e||0===+e?Math.round(t):(t=+t,e=+e,isNaN(t)||"number"!=typeof e||e%1!==0?NaN:(t=t.toString().split("e"),t=Math.round(+(t[0]+"e"+(t[1]?+t[1]+e:e))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]-e:-e))))}function makeDate(t){var e=new Date(t),a=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),n=e.getMonth()+1,r=e.getDate(),s=e.getFullYear();10>i&&(i="0"+i);var l=n+"-"+r+"-"+s+" time "+a+":"+i+":"+o+" ";console.log("Time: "+l)}function appendNewSwaps(data){var amountSeries=graphLastSwapsETH.series[1],rateSeries=graphLastSwapsETH.series[0],swapJson=eval(data);swapJson.reverse();var dataLength=data.length;if(lastSwapInJsonTimestamp=1e3*parseInt(data[dataLength-1].timestamp),firstSwapInJsonTimestamp=1e3*parseInt(data[0].timestamp),lastSwapInJsonTimestamp>lastSwapTimestamp){var lastRow=dataLength-1;for(i=0;i<dataLength;i++){var swapTimestamp=1e3*parseInt(data[i].timestamp);if(swapTimestamp>lastSwapTimestamp){swapRate=parseFloat(data[i].rate),swapAmount=data[i].amount;var pointRate=[swapTimestamp,swapRate],pointVolume=[swapTimestamp,swapAmount];i<lastRow&&(graphLastSwapsETH.series[1].addPoint(pointVolume,!1,!1),graphLastSwapsETH.series[0].addPoint(pointRate,!1,!1)),i==lastRow&&(graphLastSwapsETH.series[1].addPoint(pointVolume,!0,!0),graphLastSwapsETH.series[0].addPoint(pointRate,!0,!0))}}}}function tickerResize(t){if(495>=t)var e=' 			<div id="tickerTablediv" class="tickerTable" style="margin: auto;">								<table style="margin: auto;" class="text-nowrap">														<tbody><tr>																							<td colspan="4">																					<div id="clock"></div>								</td>																							</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">BTCUSD:</td>										<td class="ticker_bold">Bitfinex:</td>															<td style="color: rgb(255, 0, 0);" id="bitfinexBTCUSD">0</td>								<td class="ticker_bold text-nowrap">BTCe:</td>													<td id="btceBTCUSD">0</td>																<td class="ticker_bold">Bitstamp:</td>															<td id="bitstampBTCUSD">0</td>															</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">BTCCNY:</td>										<td class="ticker_bold">OkCoin:</td>															<td style="color: rgb(255, 0, 0);" id="okcoinBTCCNY">0</td>								<td class="ticker_bold">Huobi:</td>																<td style="color: rgb(255, 0, 0);" id="huobiBTCCNY">0</td>								<td class="ticker_bold">BtcChina:</td>															<td style="color: rgb(0, 128, 0);" id="btcchinaBTCCNY">0</td>							</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">LTCUSD:</td>										<td class="ticker_bold">Bitfinex:</td>															<td id="bitfinexLTCUSD">0</td>															<td class="ticker_bold text-nowrap">BTCe:</td>													<td id="btceLTCUSD">0</td>																</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">LTCCNY:</td>										<td class="ticker_bold">Okcoin:</td>															<td style="color: rgb(0, 128, 0);" id="okcoinLTCCNY">0</td>									<td class="ticker_bold">Huobi:</td>																<td id="huobiLTCCNY">0</td>																</tr>																						</tbody></table>																				</div>																							';if(t>=495&&768>t)var e=' 			<div id="tickerTablediv" class="tickerTable" style="margin: auto;">								<table style="margin: auto;" class="text-nowrap">														<tbody><tr>																							<td class="ticker_bold" style="color:#428bca;">BTCUSD:</td>										<td class="ticker_bold">Bitfinex:</td>															<td style="color: rgb(255, 0, 0);" id="bitfinexBTCUSD">0</td>								<td class="ticker_bold text-nowrap">BTCe:</td>													<td id="btceBTCUSD">0</td>																<td class="ticker_bold">Bitstamp:</td>															<td id="bitstampBTCUSD">0</td>															</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">BTCCNY:</td>										<td class="ticker_bold">OkCoin:</td>															<td style="color: rgb(255, 0, 0);" id="okcoinBTCCNY">0</td>								<td class="ticker_bold">Huobi:</td>																<td style="color: rgb(255, 0, 0);" id="huobiBTCCNY">0</td>								<td class="ticker_bold">BtcChina:</td>															<td style="color: rgb(0, 128, 0);" id="btcchinaBTCCNY">0</td>							</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">LTCUSD:</td>										<td class="ticker_bold">Bitfinex:</td>															<td id="bitfinexLTCUSD">0</td>															<td class="ticker_bold text-nowrap">BTCe:</td>													<td id="btceLTCUSD">0</td>																<td rowspan="2" colspan="2">																					<div id="clock"></div>								</td>																							</tr>																							<tr>																							<td class="ticker_bold" style="color:#428bca;">LTCCNY:</td>										<td class="ticker_bold">Okcoin:</td>															<td style="color: rgb(0, 128, 0);" id="okcoinLTCCNY">0</td>									<td class="ticker_bold">Huobi:</td>																<td id="huobiLTCCNY">0</td>																</tr>																						</tbody></table>																				</div>																							';if(t>=768&&1280>t)var e=' 			<div id="tickerTablediv" class="tickerTable" style="margin: auto;">								<table style="margin: auto;" class="text-nowrap">														<tbody><tr>																							<td colspan="2">																					<div id="clock"></div>								</td>																							<td class="ticker_bold" style="color:#428bca;">BTCUSD:</td>										<td class="ticker_bold">Bitfinex:</td>															<td style="color: rgb(255, 0, 0);" id="bitfinexBTCUSD">0</td>								<td class="ticker_bold text-nowrap">BTCe:</td>													<td id="btceBTCUSD">0</td>																<td class="ticker_bold">Bitstamp:</td>															<td id="bitstampBTCUSD">0</td>															<td class="ticker_bold" style="color:#428bca;">LTCUSD:</td>										<td class="ticker_bold">Bitfinex:</td>															<td id="bitfinexLTCUSD">0</td>															<td class="ticker_bold text-nowrap">BTCe:</td>													<td id="btceLTCUSD">0</td>																</tr>																							<tr>																							<td colspan="2">																				&nbsp; &nbsp;																				</td>																							<td class="ticker_bold" style="color:#428bca;">BTCCNY:</td>										<td class="ticker_bold">OkCoin:</td>															<td style="color: rgb(255, 0, 0);" id="okcoinBTCCNY">0</td>								<td class="ticker_bold">Huobi:</td>																<td style="color: rgb(255, 0, 0);" id="huobiBTCCNY">0</td>								<td class="ticker_bold">BtcChina:</td>															<td style="color: rgb(0, 128, 0);" id="btcchinaBTCCNY">0</td>							<td class="ticker_bold" style="color:#428bca;">LTCCNY:</td>										<td class="ticker_bold">Okcoin:</td>															<td style="color: rgb(0, 128, 0);" id="okcoinLTCCNY">0</td>									<td class="ticker_bold">Huobi:</td>																<td id="huobiLTCCNY">0</td>																</tr>																						</tbody></table>																				</div>																							';if(t>=1280&&1366>t)var e=' 			<div id="clock"></div>					<div id="tickerTablediv" class="tickerTable" style="margin: auto;">								<table style="margin: auto;" class="text-nowrap">														<tbody><tr>																							<td class="ticker_bold" style="color:#428bca;">BTCUSD:</td>							<td class="ticker_bold">Bitfinex:</td>							<div><td id="bitfinexBTCUSD">0</td></div>							<td class="ticker_bold text-nowrap">BTCe:</td>							<div><td id="btceBTCUSD">0</td></div>							<td class="ticker_bold">Bitstamp:</td>							<div><td id="bitstampBTCUSD">0</td></div>							<td class="ticker_bold" style="color:#428bca;">BTCCNY:</td>							<td class="ticker_bold">Huobi:</td>							<div><td id="huobiBTCCNY">0</td></div>							<td class="ticker_bold">BtcChina:</td>							<div><td id="btcchinaBTCCNY">0</td></div>							<td class="ticker_bold">OkCoin:</td>							<div><td id="okcoinBTCCNY">0</td></div>							<td class="ticker_bold" style="color:#428bca;">LTCUSD:</td>							<td class="ticker_bold">Bitfinex:</td>							<div><td id="bitfinexLTCUSD">0</td></div>							<td class="ticker_bold text-nowrap">BTCe:</td>							<div><td id="btceLTCUSD">0</td></div>							<td class="ticker_bold" style="color:#428bca;">LTCCNY:</td>							<td class="ticker_bold">Okcoin:</td>							<div><td id="okcoinLTCCNY">0</td></div>							<td class="ticker_bold">Huobi:</td>							<div><td id="huobiLTCCNY">0</td></div>						</tr>																						</tbody></table>																				</div>																							';if(t>1366)var e=' 			<div id="tickerTablediv" class="tickerTable" style="margin: auto;">								<table style="margin: auto;" class="text-nowrap">					<tr>							<td colspan="2">																					<div id="clock"></div>								</td>																							<td class="ticker_bold" style="color:#428bca;">BTCUSD:</td>							<td class="ticker_bold">Bitfinex:</td>							<div><td id="bitfinexBTCUSD">0</td></div>							<td class="ticker_bold text-nowrap">BTCe:</td>							<div><td id="btceBTCUSD">0</td></div>							<td class="ticker_bold">Bitstamp:</td>							<div><td id="bitstampBTCUSD">0</td></div>							<td class="ticker_bold" style="color:#428bca;">BTCCNY:</td>							<td class="ticker_bold">Huobi:</td>							<div><td id="huobiBTCCNY">0</td></div>							<td class="ticker_bold">BtcChina:</td>							<div><td id="btcchinaBTCCNY">0</td></div>							<td class="ticker_bold">OkCoin:</td>							<div><td id="okcoinBTCCNY">0</td></div>							<td class="ticker_bold" style="color:#428bca;">LTCUSD:</td>							<td class="ticker_bold">Bitfinex:</td>							<div><td id="bitfinexLTCUSD">0</td></div>							<td class="ticker_bold text-nowrap">BTCe:</td>							<div><td id="btceLTCUSD">0</td></div>							<td class="ticker_bold" style="color:#428bca;">LTCCNY:</td>							<td class="ticker_bold">Okcoin:</td>							<div><td id="okcoinLTCCNY">0</td></div>							<td class="ticker_bold">Huobi:</td>							<div><td id="huobiLTCCNY">0</td></div>						</tr>					</table>					</div>																							';document.getElementById("ticker").innerHTML=e,tickerLoaded=!1,setTimeout(function(){updateTicker()},500)}function footerFirstload(t){if(1280>t&&$("#footerContainer").load("../assets/include/divFooterSmall.php"),t>=1280&&$("#footerContainer").load("../assets/include/divFooterBig.php"),1366>t)var e="305px",a="295px";else var e="415px",a="415px";$("#swapsTableDiv").slimscroll({height:e,width:"100%"}),$("#asksTableDiv").slimscroll({height:a,width:"100%"}),$("#bidsTableDiv").slimscroll({height:a,width:"100%"}),previousWidth=t}function footerResize(t){if(1280>t&&previousWidth>=1280&&$("#footerContainer").load("../assets/include/divFooterSmall.php"),t>=1280&&1280>previousWidth&&$("#footerContainer").load("../assets/include/divFooterBig.php"),1366>t)var e="305px",a="295px";else var e="415px",a="415px";$("#swapsTableDiv").slimscroll({height:e,width:"100%"}),$("#asksTableDiv").slimscroll({height:a,width:"100%"}),$("#bidsTableDiv").slimscroll({height:a,width:"100%"}),previousWidth=t}function startwebsocketio(){var url="https://"+window.location.hostname+":3001";socket=io.connect(url,{secure:!0});var channels=["swapstatsETH","bfxdataToday","bfxdataToday1Minute","bitfinexFrrRateETH","variableFrrRatio24HourETH","variableFrrRatioLastHourETH","variableFrrVolumes24HourETH","variableFrrVolumesLastHourETH","bitfinexSwapDepthChartETHasks","bitfinexSwapDepthChartETHbids","bitfinexSwapDepthETH","last50SwapsTableETH"];socket.on("connect",function(){socket.emit("adduser",randomUsername()),channels.forEach(function(t){socket.emit("switchChannel",t)}),console.log("connected")}),socket.on("dataupdate",function(username,data){try{jsonObject=data,jsonObject=JSON.parse(jsonObject)}catch(ex){}try{var keyname=Object.keys(jsonObject);switch(keyname=String(keyname)){case"ticker_rt":data=jsonObject[keyname],updateTickerValues(data);break;case"bfxdataToday":case"bfxdataToday1Minute":data=jsonObject[keyname],updateValues(data);break;case"bitfinexSwapDepthETH":data=jsonObject[keyname],swapstatsTableFirstLoad||(data=eval(data),depthBidsNew=makeDepthObject(data.bids),depthAsksNew=makeDepthObject(data.asks),combineOldNewDepth());break;case"last50SwapsTableETH":data=jsonObject[keyname],swapstatsTableFirstLoad||(data=eval(data),swapsNew=data,combineOldNewSwaps(),appendNewSwaps(data));break;case"variableFrrVolumesLastHourETH":data=jsonObject[keyname],swapstatsTableFirstLoad||(data=eval(data),makeVolume1hTable(data));break;case"variableFrrVolumes24HourETH":data=jsonObject[keyname],swapstatsTableFirstLoad||(data=eval(data),makeVolume24hTable(data));break;case"bitfinexSwapDepthChartETHbids":data=jsonObject[keyname],data=eval(data),graphLendbookDepthChartETH.series[0].setData(data,!0,!0,!0);break;case"bitfinexSwapDepthChartETHasks":data=jsonObject[keyname],data=eval(data),graphLendbookDepthChartETH.series[1].setData(data,!0,!0,!0);break;case"variableFrrRatioLastHourETH":data=jsonObject[keyname],data=eval(data),lastHourRatioChart.series[0].setData(data,!0,!0,!0);break;case"variableFrrRatio24HourETH":data=jsonObject[keyname],data=eval(data),last24HourRatioChart.series[0].setData(data,!0,!0,!0)}}catch(ex){}})}function makeSwapStatsTables(){var t=$(window).width();if(1570>t)var e="305px",a="295px";else var e="415px",a="415px";var i=' 	<div> 	  <table class=" table table-condensed table-hover" id="swaps" title="Rate | Amount | Period | Time"> 		<tbody id="swapsTableBody" > 		</tbody> 	</div> 	</table> 	';document.getElementById("swapsTableDiv").innerHTML=i,$("#swapsTableDiv").slimscroll({height:e,width:"100%"});var o=' 			<div> 			  <table class=" table table-condensed table-hover" id="asks" title="Rate | Period | Amount | Sum"> 				<tbody id="asksTableBody"> 				</tbody> 			</table> 	</div> 	';document.getElementById("asksTableDiv").innerHTML=o,$("#asksTableDiv").slimscroll({height:a,width:"100%"});var n=' 			<div> 			  <table class=" table table-condensed table-hover" id="bids" title="Rate | Period | Amount | Sum"> 				<tbody id="bidsTableBody"> 				</tbody> 			</table> 	</div> 	';document.getElementById("bidsTableDiv").innerHTML=n,$("#bidsTableDiv").slimscroll({height:a,width:"100%"});var r=' 			<div> 			  <table class=" table table-condensed " id="volume1hTable"> 				<tbody id="volume1hTableBody"> 				</tbody> 			</table> 	</div> 	';document.getElementById("volume1hTableDiv").innerHTML=r;var s=' 			<div> 			  <table class=" table table-condensed " id="volume24hTable"> 				<tbody id="volume24hTableBody"> 				</tbody> 			</table> 	</div> 	';document.getElementById("volume24hTableDiv").innerHTML=s,ajaxVolumeTables(),ajaxSwapstatsTables()}function ajaxVolumeTables(){urlVolume1Hour="../json/variableFrrVolumesLastHourETH.json",urlVolume24Hour="../json/variableFrrVolumes24HourETH.json",ajaxNewVolume1HourJson(urlVolume1Hour).then(ajaxNewVolume24HourJson(urlVolume24Hour))}function ajaxSwapstatsTables(){urlDepth="../json/swapstats/bitfinexSwapDepthETH.json",urlSwaps="../json/swapstats/last50SwapsTableETH.json",ajaxNewDepthJson(urlDepth),ajaxNewSwapsJson(urlSwaps),swapstatsTableFirstLoad=!1}function ajaxNewVolume1HourJson(urlVolume1Hour){var ajaxData=1;return $.ajax({url:urlVolume1Hour,type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),makeVolume1hTable(data)},error:function(t,e,a){"timeout"===e?console.log(urlVolume1Hour+" timeout"):console.log("Error: "+urlVolume1Hour+" || "+e)}}),$.when(ajaxData)}function ajaxNewVolume24HourJson(urlVolume24Hour){var ajaxData=1;return $.ajax({url:urlVolume24Hour,type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),makeVolume24hTable(data)},error:function(t,e,a){"timeout"===e?console.log(urlVolume24Hour+" timeout"):console.log("Error: "+urlVolume24Hour+" || "+e)}}),$.when(ajaxData)}function ajaxNewSwapsJson(urlSwaps){$.ajax({url:urlSwaps,type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),swapsOld=data,swapsNew=data,makeSwapsTable(data)},error:function(t,e,a){"timeout"===e?console.log(urlTrades+" timeout"):console.log("Error: "+urlTrades+" || "+e)}})}function ajaxNewDepthJson(urlDepth){$.ajax({url:urlDepth,type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),depthBidsOld=makeDepthObject(data.bids),depthAsksOld=makeDepthObject(data.asks),depthBidsNew=depthBidsOld,depthAsksNew=depthAsksOld,makeBidsTable(data.bids),makeAsksTable(data.asks)},error:function(t,e,a){"timeout"===e?console.log(urlDepth+" timeout"):console.log("Error: "+urlDepth+" || "+e)}})}function combineOldNewSwaps(){var t=[];for(i=0;i<swapsOld.length;i++){var e=swapsOld[i].pid;t.push(e)}var a=[],o=[];for(swapsCombi=_.union(swapsOld,swapsNew),i=0;i<swapsCombi.length;i++){var e=swapsCombi[i].pid;o.indexOf(e)<0&&(o.push(e),a.push(swapsCombi[i]))}a.sort(function(t,e){return e.pid-t.pid}),addToSwapsTable(a,t)}function makeDepthObject(t){for(obj={},i=0;i<t.length;i++)timestamp=t[i].timestamp,rate=parseFloat(t[i].rate),amount=parseFloat(t[i].amount),period=parseInt(t[i].period),value={},value.rate=rate,value.period=period,value.amount=amount,value.timestamp=timestamp,obj[timestamp]=value;return obj}function combineOldNewDepth(){depthAsksOldNewCombined=[],depthBidsOldNewCombined=[];for(var t in depthAsksNew)depthAsksNew.hasOwnProperty(t)&&(depthAsksOld.hasOwnProperty(t)?(properties=depthAsksNew[t],value={},value.rate=properties.rate,value.period=properties.period,value.amount=properties.amount,value.timestamp=t,value.changed="same",depthAsksOldNewCombined.push(value)):(properties=depthAsksNew[t],value={},value.rate=properties.rate,value.period=properties.period,value.amount=properties.amount,value.timestamp=t,value.changed="new",depthAsksOldNewCombined.push(value)));for(var t in depthAsksOld)depthAsksOld.hasOwnProperty(t)&&(depthAsksNew.hasOwnProperty(t)||(properties=depthAsksOld[t],value={},value.rate=properties.rate,value.period=properties.period,value.amount=properties.amount,value.timestamp=t,value.changed="deleted",depthAsksOldNewCombined.push(value)));depthAsksOldNewCombined.sort(firstBy(function(t,e){return t.rate-e.rate}).thenBy(function(t,e){return t.timestamp-e.timestamp}));for(var t in depthBidsNew)depthBidsNew.hasOwnProperty(t)&&(depthBidsOld.hasOwnProperty(t)?(properties=depthBidsNew[t],value={},value.rate=properties.rate,value.period=properties.period,value.amount=properties.amount,value.timestamp=t,value.changed="same",depthBidsOldNewCombined.push(value)):(properties=depthBidsNew[t],value={},value.rate=properties.rate,value.period=properties.period,value.amount=properties.amount,value.timestamp=t,value.changed="new",depthBidsOldNewCombined.push(value)));for(var t in depthBidsOld)depthBidsOld.hasOwnProperty(t)&&(depthBidsNew.hasOwnProperty(t)||(properties=depthBidsOld[t],value={},value.rate=properties.rate,value.period=properties.period,value.amount=properties.amount,value.timestamp=t,value.changed="deleted",depthBidsOldNewCombined.push(value)));depthBidsOldNewCombined.sort(firstBy(function(t,e){return t.rate-e.rate}).thenBy(function(t,e){return t.timestamp-e.timestamp})),depthAsksOld=depthAsksNew,depthBidsOld=depthBidsNew,addToDepthBidsTable(depthBidsOldNewCombined),addToDepthAsksTable(depthAsksOldNewCombined)}function makeAsksTable(t){$("#asksTableBody").empty();var e=0;jQuery.each(t,function(t,a){var i=parseFloat(a.rate)/365,o=parseInt(a.period);if(i>0&&1>i){var n=parseFloat(a.amount);e+=n,$("#asksTableBody").append("<tr><td class='td_rate'>"+formatNumber(i,5)+"</td><td>"+o+"</td><td class='td_amount'>"+formatNumber(n,2)+"</td><td class='td_sum'>"+formatNumber(e,0)+"</td></tr>")}})}function makeBidsTable(t){$("#bidsTableBody").empty();var e=0;jQuery.each(t,function(t,a){var i=parseFloat(a.rate)/365,o=parseInt(a.period);if(i>0&&1>i){var n=parseFloat(a.amount);e+=n,$("#bidsTableBody").append("<tr><td class='td_rate'>"+formatNumber(i,5)+"</td><td>"+o+"</td><td class='td_amount'>"+formatNumber(n,2)+"</td><td class='td_sum'>"+formatNumber(e,0)+"</td></tr>")}})}function makeSwapsTable(t){$("#swapsTableBody").empty(),jQuery.each(t,function(t,e){var a=parseFloat(e.rate),i=parseFloat(e.amount),o=parseInt(e.period);$("#swapsTableBody").append("<tr><td class='td_rate' >"+formatNumber(a,5)+"</td><td class='td_amount' >"+formatNumber(i,2)+"</td><td class='td_type' >"+o+"</td><td class='td_timestamp'>"+timeConverter(e.timestamp)+"</td></tr>")}),lastPID=parseFloat(t[0].pid)}function makeVolume1hTable(t){$("#volume1hTableBody").empty();var e=parseFloat(t[2]),a=parseFloat(t[1]),i=parseFloat(t[0]);$("#volume1hTableBody").append("<tr><td class='volumTableLabel'>Fixed</td><td class='volumTableValue'>"+formatNumber(i,3)+"</td></tr><tr><td class='volumTableLabel'>FRR</td><td class='volumTableValue'>"+formatNumber(a,3)+"</td></tr><tr><td class='volumTableLabel'>Total</td><td class='volumTableValue'>"+formatNumber(e,3)+"</td></tr>")}function makeVolume24hTable(t){$("#volume24hTableBody").empty();var e=parseFloat(t[2]),a=parseFloat(t[1]),i=parseFloat(t[0]);$("#volume24hTableBody").append("<tr><td class='volumTableLabel'>Fixed</td><td class='volumTableValue'>"+formatNumber(i,3)+"</td></tr><tr><td class='volumTableLabel'>FRR</td><td class='volumTableValue'>"+formatNumber(a,3)+"</td></tr><tr><td class='volumTableLabel'>Total</td><td class='volumTableValue'>"+formatNumber(e,3)+"</td></tr>")}function randomUsername(){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",e=8,a="user_",i=0;e>i;i++){var o=Math.floor(Math.random()*t.length);a+=t.substring(o,o+1)}str=window.location.href,str=str.replace("https://www.bfxdata.com/",""),str=str.replace("https://bfxdata.com/",""),str=str.replace("http://www.bfxdata.com/",""),str=str.replace("http://bfxdata.com/",""),str=str.replace(/\//g,"_"),a+="_"+str;var n=new Date,r=n.getTime();return a+="_"+r}function updateTicker(){$.ajax({url:"../json/ticker_rt.json",type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),updateTickerValues(data),tickerLoaded=!0},error:function(t,e,a){"timeout"===e?console.log("Error: ticker datarequest timeout"):console.log("Error: "+e)}})}function updateTickerValue(t,e){var a="#"+t;e=parseFloat(e);for(var i=$(a).text();-1!=i.indexOf(",");)i=i.replace(",","");i=parseFloat(i);var o=t.substr(t.length-6);if("BTCUSD"==o)var n=3;else if("LTCUSD"==o)var n=5;else if("BTCCNY"==o)var n=2;else if("LTCCNY"==o)var n=2;else var n=1;e>i&&(tickerLoaded&&$(a).css("color","green"),$(a).html(formatTickerNumber(e,n))),i>e&&(tickerLoaded&&$(a).css("color","red"),$(a).html(formatTickerNumber(e,n)))}function updateTickerValues(t){jQuery.each(t,function(t,e){updatedValue=e,updateTickerValue(t,updatedValue)})}function formatTickerNumber(t,e){t=t.toFixed(e)+"",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2}function bfxdataToday(){$.ajax({url:"../json/bfxdataToday.json",type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),updateValues(data)},error:function(t,e,a){"timeout"===e?console.log("Statstabale timeout"):console.log("Error: "+e)}})}function bfxdataToday1minute(){$.ajax({url:"../json/bfxdataToday1Minute.json",type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),updateValues(data),bfxdataTodayloaded=!0},error:function(t,e,a){"timeout"===e?console.log("Statstabale 1m timeout"):console.log("Error: "+e)}})}function updateValue(t,e){var a="#"+t;e=parseFloat(e);for(var i=$(a).text();-1!=i.indexOf(",");)i=i.replace(",","");i=parseFloat(i);var o=t.substr(0,t.length-6);if("priceBTCUSD"==t||"bidBTCUSD"==t||"askBTCUSD"==t||"minBTCUSD"==t||"maxBTCUSD"==t||"maxBTCUSD"==t||"volex"==o||"change24rel"==o||"volumeChange"==o||"vwap24BTCUSD"==t||"change24absBTCUSD"==t||"maxBTCUSD"==t)var n=3;else if("todayVolume"==o||"volumeWeek"==o||"volumeMonth"==o||"swapVolume1hUSD"==t||"swapVolume1hBTC"==t||"swapVolume1hLTC"==t||"swapVolume1hETH"==t||"swapVolume24hUSD"==t||"swapVolume24hBTC"==t||"swapVolume24hLTC"==t||"swapVolume24hETH"==t)var n=0;else if("changeAbsoluteTotalAvgRateUSD"==t||"changeAbsoluteTotalAvgRateBTC"==t||"changeAbsoluteTotalAvgRateLTC"==t||"changeAbsoluteTotalAvgRateETH"==t)var n=7;else if("totalAmountUSD"==t||"totalAmountBTC"==t||"totalAmountLTC"==t||"totalAmountETH"==t||"changeAbsoluteTotalAmountUSD"==t||"changeAbsoluteTotalAmountBTC"==t||"changeAbsoluteTotalAmountLTC"==t||"changeAbsoluteTotalAmountETH"==t)var n=0;else var n=5;e>i&&(bfxdataTodayloaded&&($(a).parent().animate({backgroundColor:"rgba(90,151,112,0.3)"},300),$(a).parent().animate({backgroundColor:"rgba(255,255,255,0)"},3e3)),"change24rel"==o||"volumeChange"==o||"lastSwapUSD"==t||"lastSwapBTC"==t||"lastSwapLTC"==t||"lastSwapETH"==t?$(a).html(formatNumber(e,n)+" %"):$(a).html(formatNumber(e,n))),i>e&&(bfxdataTodayloaded&&($(a).parent().animate({backgroundColor:"rgba(204,63,51,0.3)"},300),$(a).parent().animate({backgroundColor:"rgba(255,255,255,0)"},3e3)),"change24rel"==o||"volumeChange"==o||"lastSwapUSD"==t||"lastSwapBTC"==t||"lastSwapLTC"==t||"lastSwapETH"==t?$(a).html(formatNumber(e,n)+" %"):$(a).html(formatNumber(e,n))),"change24rel"!=o&&"volumeChange"!=o&&"change24abs"!=o&&"changeAbsoluteTotalAmountUSD"!=t&&"changeAbsoluteTotalAmountBTC"!=t&&"changeAbsoluteTotalAmountLTC"!=t&&"changeAbsoluteTotalAmountETH"!=t&&"changeAbsoluteTotalAvgRateUSD"!=t&&"changeAbsoluteTotalAvgRateBTC"!=t&&"changeAbsoluteTotalAvgRateLTC"!=t&&"changeAbsoluteTotalAvgRateETH"!=t||changeFontColor(a,e)}function updateValues(t){jQuery.each(t,function(t,e){updatedValue=e[0],updateValue(t,updatedValue)})}function changeFontColor(t,e){e>0&&$(t).css("color","green"),0>e&&$(t).css("color","red")}function formatNumber(t,e){t=t.toFixed(e)+"",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2}function startTime(){var t=new Date,e=t.getUTCHours(),a=t.getMinutes(),i=t.getSeconds();e=checkTime(e),a=checkTime(a),i=checkTime(i),document.getElementById("clock").innerHTML=e+":"+a+":"+i+" (UTC)&nbsp &nbsp &nbsp;";setTimeout(function(){startTime()},500)}function checkTime(t){return 10>t&&(t="0"+t),t}function addToDepthBidsTable(t){var e,a,i=0;$("#bidsTableBody").empty(),t.reverse();for(var o=0,n=t.length;n>o;o++)switch(row=t[o],e=parseFloat(row.amount),a=row.changed,rate=row.rate/365,period=row.period,a){case"same":i+=e,$("#bidsTableBody").append("<tr><td class='td_rate'>"+formatNumber(rate,5)+"</td><td>"+period+"</td><td class='td_amount'>"+formatNumber(e,2)+"</td><td class='td_sum'>"+formatNumber(i,0)+"</td></tr>");break;case"new":i+=e,$("#bidsTableBody").append("<tr><td class='td_rate'><div class='new_bids_table_entry'>"+formatNumber(rate,5)+"</div></td><td><div class='new_bids_table_entry'>"+period+"</div></td><td class='td_amount'><div class='new_bids_table_entry'>"+formatNumber(e,2)+"</div></td><td class='td_sum'><div class='new_bids_table_entry'>"+formatNumber(i,0)+"</div></td></tr>");break;case"deleted":$("#bidsTableBody").append("<tr><td class='td_rate'><div class='removed_bids_table_entry'>"+formatNumber(rate,5)+"</div></td><td><div class='removed_bids_table_entry'>"+period+"</div></td><td class='td_amount'><div class='removed_bids_table_entry'>"+formatNumber(e,2)+"</div></td><td class='td_sum'><div class='removed_bids_table_entry'> - </div></td></tr>")}$(".removed_bids_table_entry").css("text-decoration","line-through"),setTimeout(function(){$(".removed_bids_table_entry").slideUp(500)},4500),setTimeout(function(){$(".removed_bids_tr").remove()},5e3),$(".new_bids_table_entry").css("font-weight","bold"),$(".new_bids_table_entry").hide(),setTimeout(function(){$(".new_bids_table_entry").slideDown(1e3)},1),setTimeout(function(){$(".new_bids_table_entry").css("font-weight","300")},6e3)}function addToDepthAsksTable(t){var e,a,i=0;$("#asksTableBody").empty();for(var o=0,n=t.length;n>o;o++)switch(row=t[o],e=parseFloat(row.amount),a=row.changed,rate=row.rate/365,period=row.period,a){case"same":i+=e,$("#asksTableBody").append("<tr><td class='td_rate'>"+formatNumber(rate,5)+"</td><td>"+period+"</td><td class='td_amount'>"+formatNumber(e,2)+"</td><td class='td_sum'>"+formatNumber(i,0)+"</td></tr>");break;case"new":i+=e,$("#asksTableBody").append("<tr><td class='td_rate'><div class='new_asks_table_entry'>"+formatNumber(rate,5)+"</div></td><td><div class='new_asks_table_entry'>"+period+"</div></td><td class='td_amount'><div class='new_asks_table_entry'>"+formatNumber(e,2)+"</div></td><td class='td_sum'><div class='new_asks_table_entry'>"+formatNumber(i,0)+"</div></td></tr>");break;case"deleted":$("#asksTableBody").append("<tr><td class='td_rate'><div class='removed_asks_table_entry'>"+formatNumber(rate,5)+"</div></td><td><div class='removed_asks_table_entry'>"+period+"</div></td><td class='td_amount'><div class='removed_asks_table_entry'>"+formatNumber(e,2)+"</div></td><td class='td_sum'><div class='removed_asks_table_entry'> - </div></td></tr>")}$(".removed_asks_table_entry").css("text-decoration","line-through"),setTimeout(function(){$(".removed_asks_table_entry").slideUp(500)},4500),setTimeout(function(){$(".removed_asks_tr").remove()},5e3),$(".new_asks_table_entry").css("font-weight","bold"),$(".new_asks_table_entry").hide(),setTimeout(function(){$(".new_asks_table_entry").slideDown(1e3)},1),setTimeout(function(){$(".new_asks_table_entry").css("font-weight","300")},6e3)}function addToSwapsTable(t,e){newPID=parseFloat(t[0].pid),$("#swapsTableBody").empty(),t.reverse(),jQuery.each(t,function(t,e){var a=parseFloat(e.rate),i=parseFloat(e.amount),o=parseInt(e.period),n=e.pid;n>lastPID?$("#swapsTableBody").prepend("<tr class='new_table_entry'><td class='td_rate'>"+formatNumber(a,5)+"</td><td class='td_amount'>"+formatNumber(i,2)+"</td><td class='td_type'>"+o+"</td><td class='td_timestamp' >"+timeConverter(e.timestamp)+"</td></tr>"):$("#swapsTableBody").prepend("<tr><td class='td_rate'>"+formatNumber(a,5)+"</td><td class='td_amount'>"+formatNumber(i,2)+"</td><td class='td_type'>"+o+"</td><td class='td_timestamp'>"+timeConverter(e.timestamp)+"</td></tr>")}),$(".new_table_entry").css("font-weight","bold"),setTimeout(function(){$(".new_table_entry").css("font-weight","300")},6e3),swapsOld=t,lastPID=newPID}function formatNumber(t,e){t=t.toFixed(e)+"",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2}function timeConverter(t){var e=new Date(1e3*t),a=(e.getFullYear(),e.getMonth(),e.getDate(),e.getUTCHours());10>a&&(a="0"+a);var i=e.getMinutes();10>i&&(i="0"+i);var o=e.getSeconds();10>o&&(o="0"+o);var n=a+":"+i+":"+o;return n}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),o=a.data("bs.alert");o||a.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(a)})}var a='[data-dismiss="alert"]',i=function(e){t(e).on("click",a,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function a(){r.detach().trigger("closed.bs.alert").remove()}var o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var r=t(n);e&&e.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",a,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){
var i=t(this),o=i.data("bs.button"),n="object"==typeof e&&e;o||i.data("bs.button",o=new a(this,n)),"toggle"==e?o.toggle():e&&o.setState(e)})}var a=function(e,i){this.$element=t(e),this.options=t.extend({},a.DEFAULTS,i),this.isLoading=!1};a.VERSION="3.3.4",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(e){var a="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();e+="Text",null==n.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==n[e]?this.options[e]:n[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(a).attr(a,a)):this.isLoading&&(this.isLoading=!1,i.removeClass(a).removeAttr(a))},this),0)},a.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var a=this.$element.find("input");"radio"==a.prop("type")&&(a.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&a.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=a,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var i=t(a.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),a.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),n=t.extend({},a.DEFAULTS,i.data(),"object"==typeof e&&e),r="string"==typeof e?e:n.slide;o||i.data("bs.carousel",o=new a(this,n)),"number"==typeof e?o.to(e):r?o[r]():n.interval&&o.pause().cycle()})}var a=function(e,a){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=a,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};a.VERSION="3.3.4",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},a.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},a.prototype.getItemForDirection=function(t,e){var a=this.getItemIndex(e),i="prev"==t&&0===a||"next"==t&&a==this.$items.length-1;if(i&&!this.options.wrap)return e;var o="prev"==t?-1:1,n=(a+o)%this.$items.length;return this.$items.eq(n)},a.prototype.to=function(t){var e=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",this.$items.eq(t))},a.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){return this.sliding?void 0:this.slide("next")},a.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},a.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),n=i||this.getItemForDirection(e,o),r=this.interval,s="next"==e?"left":"right",l=this;if(n.hasClass("active"))return this.sliding=!1;var d=n[0],c=t.Event("slide.bs.carousel",{relatedTarget:d,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(n)]);u&&u.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:d,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,o.addClass(s),n.addClass(s),o.one("bsTransitionEnd",function(){n.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(p)),r&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=a,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(a){var i,o=t(this),n=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var r=t.extend({},n.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),e.call(n,r),s&&n.data("bs.carousel").to(s),a.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var a=t(this);e.call(a,a.data())})})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(o).remove(),t(n).each(function(){var i=t(this),o=a(i),n={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",n)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function a(e){var a=e.attr("data-target");a||(a=e.attr("href"),a=a&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var i=a&&t(a);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var a=t(this),i=a.data("bs.dropdown");i||a.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(a)})}var o=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.4",r.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var n=a(o),r=n.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(n.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=a(i),r=o.hasClass("open");if(!r&&27!=e.which||r&&27==e.which)return 27==e.which&&o.find(n).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var d=l.index(e.target);38==e.which&&d>0&&d--,40==e.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),n=o.data("bs.modal"),r=t.extend({},a.DEFAULTS,o.data(),"object"==typeof e&&e);n||o.data("bs.modal",n=new a(this,r)),"string"==typeof e?n[e](i):r.show&&n.show(i)})}var a=function(e,a){this.options=a,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.4",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(n)}))},a.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=a,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var i=t(this),o=i.attr("href"),n=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},n.data(),i.data());i.is("a")&&a.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(n,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),n="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.tooltip",o=new a(this,n)),"string"==typeof e&&o[e]())})}var a=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};a.VERSION="3.3.4",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(e,a,i){if(this.enabled=!0,this.type=e,this.$element=t(a),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),n=o.length;n--;){var r=o[n];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},a.prototype.getDelegateOptions=function(){var e={},a=this.getDefaults();return this._options&&t.each(this._options,function(t,i){a[t]!=i&&(e[t]=i)}),e},a.prototype.enter=function(e){var a=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return a&&a.$tip&&a.$tip.is(":visible")?void(a.hoverState="in"):(a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a)),clearTimeout(a.timeout),a.hoverState="in",a.options.delay&&a.options.delay.show?void(a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)):a.show())},a.prototype.leave=function(e){var a=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a)),clearTimeout(a.timeout),a.hoverState="out",a.options.delay&&a.options.delay.hide?void(a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)):a.hide()},a.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,n=this.tip(),r=this.getUID(this.type);this.setContent(),n.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&n.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(s);d&&(s=s.replace(l,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var c=this.getPosition(),u=n[0].offsetWidth,p=n[0].offsetHeight;if(d){var h=s,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);s="bottom"==s&&c.bottom+p>m.bottom?"top":"top"==s&&c.top-p<m.top?"bottom":"right"==s&&c.right+u>m.width?"left":"left"==s&&c.left-u<m.left?"right":s,n.removeClass(h).addClass(s)}var b=this.getCalculatedOffset(s,c,u,p);this.applyPlacement(b,s);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",v).emulateTransitionEnd(a.TRANSITION_DURATION):v()}},a.prototype.applyPlacement=function(e,a){var i=this.tip(),o=i[0].offsetWidth,n=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),e.top=e.top+r,e.left=e.left+s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,d=i[0].offsetHeight;"top"==a&&d!=n&&(e.top=e.top+n-d);var c=this.getViewportAdjustedDelta(a,e,l,d);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(a),p=u?2*c.left-o+l:2*c.top-n+d,h=u?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(p,i[0][h],u)},a.prototype.replaceArrow=function(t,e,a){this.arrow().css(a?"left":"top",50*(1-t/e)+"%").css(a?"top":"left","")},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},a.prototype.hide=function(e){function i(){"in"!=o.hoverState&&n.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,n=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),this.hoverState=null,this)},a.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(e){e=e||this.$element;var a=e[0],i="BODY"==a.tagName,o=a.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=i?{top:0,left:0}:e.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,r,s,n)},a.prototype.getCalculatedOffset=function(t,e,a,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-a/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-a/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-a}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},a.prototype.getViewportAdjustedDelta=function(t,e,a,i){var o={top:0,left:0};if(!this.$viewport)return o;var n=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-n-r.scroll,l=e.top+n-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var d=e.left-n,c=e.left+n+a;d<r.left?o.left=r.left-d:c>r.width&&(o.left=r.left+r.width-c)}return o},a.prototype.getTitle=function(){var t,e=this.$element,a=this.options;return t=e.attr("data-original-title")||("function"==typeof a.title?a.title.call(e[0]):a.title)},a.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},a.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(e){var a=this;e&&(a=t(e.currentTarget).data("bs."+this.type),a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a))),a.tip().hasClass("in")?a.leave(a):a.enter(a)},a.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=a,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),n="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.popover",o=new a(this,n)),"string"==typeof e&&o[e]())})}var a=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.4",a.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),a=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof a?"html":"append":"text"](a),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=a,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new a(this)),"string"==typeof e&&o[e]()})}var a=function(e){this.element=t(e)};a.VERSION="3.3.4",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,a=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=a.find(".active:last a"),n=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(n),e.trigger(r),!r.isDefaultPrevented()&&!n.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),a),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},a.prototype.activate=function(e,i,o){function n(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=i.find("> .active"),s=o&&t.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",n).emulateTransitionEnd(a.TRANSITION_DURATION):n(),r.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=a,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(a){a.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),n="object"==typeof e&&e;o||i.data("bs.affix",o=new a(this,n)),"string"==typeof e&&o[e]()})}var a=function(e,i){this.options=t.extend({},a.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};a.VERSION="3.3.4",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(t,e,a,i){var o=this.$target.scrollTop(),n=this.$element.offset(),r=this.$target.height();if(null!=a&&"top"==this.affixed)return a>o?"top":!1;if("bottom"==this.affixed)return null!=a?o+this.unpin<=n.top?!1:"bottom":t-i>=o+r?!1:"bottom";var s=null==this.affixed,l=s?o:n.top,d=s?r:e;return null!=a&&a>=o?"top":null!=i&&l+d>=t-i?"bottom":!1},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(a.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},a.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,n=i.bottom,r=t(document.body).height();"object"!=typeof i&&(n=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof n&&(n=i.bottom(this.$element));var s=this.getState(r,e,o,n);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-e-n})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=a,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var a=t(this),i=a.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(a,i)})})}(jQuery),+function(t){"use strict";function e(e){var a,i=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function a(e){return this.each(function(){var a=t(this),o=a.data("bs.collapse"),n=t.extend({},i.DEFAULTS,a.data(),"object"==typeof e&&e);!o&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),o||a.data("bs.collapse",o=new i(this,n)),"string"==typeof e&&o[e]()})}var i=function(e,a){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){o&&o.length&&(a.call(o,"hide"),e||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[a](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var o=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var n=e(o),r=n.data("bs.collapse"),s=r?"toggle":o.data();a.call(n,s)})}(jQuery),+function(t){"use strict";function e(a,i){this.$body=t(document.body),this.$scrollElement=t(t(a).is(document.body)?window:a),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function a(a){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),n="object"==typeof a&&a;o||i.data("bs.scrollspy",o=new e(this,n)),"string"==typeof a&&o[a]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight);
},e.prototype.refresh=function(){var e=this,a="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(a="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),n=/^#./.test(o)&&t(o);return n&&n.length&&n.is(":visible")&&[[n[a]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),i=this.options.offset+a-this.$scrollElement.height(),o=this.offsets,n=this.targets,r=this.activeTarget;if(this.scrollHeight!=a&&this.refresh(),e>=i)return r!=(t=n[n.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=n[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var a=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(a).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=a,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);a.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in e)if(void 0!==t.style[a])return{end:e[a]};return!1}t.fn.emulateTransitionEnd=function(e){var a=!1,i=this;t(this).one("bsTransitionEnd",function(){a=!0});var o=function(){a||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(){var t=this,e=t._,a=Array.prototype,i=Object.prototype,o=Function.prototype,n=a.push,r=a.slice,s=a.concat,l=i.toString,d=i.hasOwnProperty,c=Array.isArray,u=Object.keys,p=o.bind,h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):t._=h,h.VERSION="1.7.0";var f=function(t,e,a){if(void 0===e)return t;switch(null==a?3:a){case 1:return function(a){return t.call(e,a)};case 2:return function(a,i){return t.call(e,a,i)};case 3:return function(a,i,o){return t.call(e,a,i,o)};case 4:return function(a,i,o,n){return t.call(e,a,i,o,n)}}return function(){return t.apply(e,arguments)}};h.iteratee=function(t,e,a){return null==t?h.identity:h.isFunction(t)?f(t,e,a):h.isObject(t)?h.matches(t):h.property(t)},h.each=h.forEach=function(t,e,a){if(null==t)return t;e=f(e,a);var i,o=t.length;if(o===+o)for(i=0;o>i;i++)e(t[i],i,t);else{var n=h.keys(t);for(i=0,o=n.length;o>i;i++)e(t[n[i]],n[i],t)}return t},h.map=h.collect=function(t,e,a){if(null==t)return[];e=h.iteratee(e,a);for(var i,o=t.length!==+t.length&&h.keys(t),n=(o||t).length,r=Array(n),s=0;n>s;s++)i=o?o[s]:s,r[s]=e(t[i],i,t);return r};var m="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(t,e,a,i){null==t&&(t=[]),e=f(e,i,4);var o,n=t.length!==+t.length&&h.keys(t),r=(n||t).length,s=0;if(arguments.length<3){if(!r)throw new TypeError(m);a=t[n?n[s++]:s++]}for(;r>s;s++)o=n?n[s]:s,a=e(a,t[o],o,t);return a},h.reduceRight=h.foldr=function(t,e,a,i){null==t&&(t=[]),e=f(e,i,4);var o,n=t.length!==+t.length&&h.keys(t),r=(n||t).length;if(arguments.length<3){if(!r)throw new TypeError(m);a=t[n?n[--r]:--r]}for(;r--;)o=n?n[r]:r,a=e(a,t[o],o,t);return a},h.find=h.detect=function(t,e,a){var i;return e=h.iteratee(e,a),h.some(t,function(t,a,o){return e(t,a,o)?(i=t,!0):void 0}),i},h.filter=h.select=function(t,e,a){var i=[];return null==t?i:(e=h.iteratee(e,a),h.each(t,function(t,a,o){e(t,a,o)&&i.push(t)}),i)},h.reject=function(t,e,a){return h.filter(t,h.negate(h.iteratee(e)),a)},h.every=h.all=function(t,e,a){if(null==t)return!0;e=h.iteratee(e,a);var i,o,n=t.length!==+t.length&&h.keys(t),r=(n||t).length;for(i=0;r>i;i++)if(o=n?n[i]:i,!e(t[o],o,t))return!1;return!0},h.some=h.any=function(t,e,a){if(null==t)return!1;e=h.iteratee(e,a);var i,o,n=t.length!==+t.length&&h.keys(t),r=(n||t).length;for(i=0;r>i;i++)if(o=n?n[i]:i,e(t[o],o,t))return!0;return!1},h.contains=h.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=h.values(t)),h.indexOf(t,e)>=0)},h.invoke=function(t,e){var a=r.call(arguments,2),i=h.isFunction(e);return h.map(t,function(t){return(i?e:t[e]).apply(t,a)})},h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matches(e))},h.findWhere=function(t,e){return h.find(t,h.matches(e))},h.max=function(t,e,a){var i,o,n=-1/0,r=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var s=0,l=t.length;l>s;s++)i=t[s],i>n&&(n=i)}else e=h.iteratee(e,a),h.each(t,function(t,a,i){o=e(t,a,i),(o>r||o===-1/0&&n===-1/0)&&(n=t,r=o)});return n},h.min=function(t,e,a){var i,o,n=1/0,r=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var s=0,l=t.length;l>s;s++)i=t[s],n>i&&(n=i)}else e=h.iteratee(e,a),h.each(t,function(t,a,i){o=e(t,a,i),(r>o||1/0===o&&1/0===n)&&(n=t,r=o)});return n},h.shuffle=function(t){for(var e,a=t&&t.length===+t.length?t:h.values(t),i=a.length,o=Array(i),n=0;i>n;n++)e=h.random(0,n),e!==n&&(o[n]=o[e]),o[e]=a[n];return o},h.sample=function(t,e,a){return null==e||a?(t.length!==+t.length&&(t=h.values(t)),t[h.random(t.length-1)]):h.shuffle(t).slice(0,Math.max(0,e))},h.sortBy=function(t,e,a){return e=h.iteratee(e,a),h.pluck(h.map(t,function(t,a,i){return{value:t,index:a,criteria:e(t,a,i)}}).sort(function(t,e){var a=t.criteria,i=e.criteria;if(a!==i){if(a>i||void 0===a)return 1;if(i>a||void 0===i)return-1}return t.index-e.index}),"value")};var b=function(t){return function(e,a,i){var o={};return a=h.iteratee(a,i),h.each(e,function(i,n){var r=a(i,n,e);t(o,i,r)}),o}};h.groupBy=b(function(t,e,a){h.has(t,a)?t[a].push(e):t[a]=[e]}),h.indexBy=b(function(t,e,a){t[a]=e}),h.countBy=b(function(t,e,a){h.has(t,a)?t[a]++:t[a]=1}),h.sortedIndex=function(t,e,a,i){a=h.iteratee(a,i,1);for(var o=a(e),n=0,r=t.length;r>n;){var s=n+r>>>1;a(t[s])<o?n=s+1:r=s}return n},h.toArray=function(t){return t?h.isArray(t)?r.call(t):t.length===+t.length?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:t.length===+t.length?t.length:h.keys(t).length},h.partition=function(t,e,a){e=h.iteratee(e,a);var i=[],o=[];return h.each(t,function(t,a,n){(e(t,a,n)?i:o).push(t)}),[i,o]},h.first=h.head=h.take=function(t,e,a){return null==t?void 0:null==e||a?t[0]:0>e?[]:r.call(t,0,e)},h.initial=function(t,e,a){return r.call(t,0,Math.max(0,t.length-(null==e||a?1:e)))},h.last=function(t,e,a){return null==t?void 0:null==e||a?t[t.length-1]:r.call(t,Math.max(t.length-e,0))},h.rest=h.tail=h.drop=function(t,e,a){return r.call(t,null==e||a?1:e)},h.compact=function(t){return h.filter(t,h.identity)};var v=function(t,e,a,i){if(e&&h.every(t,h.isArray))return s.apply(i,t);for(var o=0,r=t.length;r>o;o++){var l=t[o];h.isArray(l)||h.isArguments(l)?e?n.apply(i,l):v(l,e,a,i):a||i.push(l)}return i};h.flatten=function(t,e){return v(t,e,!1,[])},h.without=function(t){return h.difference(t,r.call(arguments,1))},h.uniq=h.unique=function(t,e,a,i){if(null==t)return[];h.isBoolean(e)||(i=a,a=e,e=!1),null!=a&&(a=h.iteratee(a,i));for(var o=[],n=[],r=0,s=t.length;s>r;r++){var l=t[r];if(e)r&&n===l||o.push(l),n=l;else if(a){var d=a(l,r,t);h.indexOf(n,d)<0&&(n.push(d),o.push(l))}else h.indexOf(o,l)<0&&o.push(l)}return o},h.union=function(){return h.uniq(v(arguments,!0,!0,[]))},h.intersection=function(t){if(null==t)return[];for(var e=[],a=arguments.length,i=0,o=t.length;o>i;i++){var n=t[i];if(!h.contains(e,n)){for(var r=1;a>r&&h.contains(arguments[r],n);r++);r===a&&e.push(n)}}return e},h.difference=function(t){var e=v(r.call(arguments,1),!0,!0,[]);return h.filter(t,function(t){return!h.contains(e,t)})},h.zip=function(t){if(null==t)return[];for(var e=h.max(arguments,"length").length,a=Array(e),i=0;e>i;i++)a[i]=h.pluck(arguments,i);return a},h.object=function(t,e){if(null==t)return{};for(var a={},i=0,o=t.length;o>i;i++)e?a[t[i]]=e[i]:a[t[i][0]]=t[i][1];return a},h.indexOf=function(t,e,a){if(null==t)return-1;var i=0,o=t.length;if(a){if("number"!=typeof a)return i=h.sortedIndex(t,e),t[i]===e?i:-1;i=0>a?Math.max(0,o+a):a}for(;o>i;i++)if(t[i]===e)return i;return-1},h.lastIndexOf=function(t,e,a){if(null==t)return-1;var i=t.length;for("number"==typeof a&&(i=0>a?i+a+1:Math.min(i,a+1));--i>=0;)if(t[i]===e)return i;return-1},h.range=function(t,e,a){arguments.length<=1&&(e=t||0,t=0),a=a||1;for(var i=Math.max(Math.ceil((e-t)/a),0),o=Array(i),n=0;i>n;n++,t+=a)o[n]=t;return o};var g=function(){};h.bind=function(t,e){var a,i;if(p&&t.bind===p)return p.apply(t,r.call(arguments,1));if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");return a=r.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,a.concat(r.call(arguments)));g.prototype=t.prototype;var o=new g;g.prototype=null;var n=t.apply(o,a.concat(r.call(arguments)));return h.isObject(n)?n:o}},h.partial=function(t){var e=r.call(arguments,1);return function(){for(var a=0,i=e.slice(),o=0,n=i.length;n>o;o++)i[o]===h&&(i[o]=arguments[a++]);for(;a<arguments.length;)i.push(arguments[a++]);return t.apply(this,i)}},h.bindAll=function(t){var e,a,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)a=arguments[e],t[a]=h.bind(t[a],t);return t},h.memoize=function(t,e){var a=function(i){var o=a.cache,n=e?e.apply(this,arguments):i;return h.has(o,n)||(o[n]=t.apply(this,arguments)),o[n]};return a.cache={},a},h.delay=function(t,e){var a=r.call(arguments,2);return setTimeout(function(){return t.apply(null,a)},e)},h.defer=function(t){return h.delay.apply(h,[t,1].concat(r.call(arguments,1)))},h.throttle=function(t,e,a){var i,o,n,r=null,s=0;a||(a={});var l=function(){s=a.leading===!1?0:h.now(),r=null,n=t.apply(i,o),r||(i=o=null)};return function(){var d=h.now();s||a.leading!==!1||(s=d);var c=e-(d-s);return i=this,o=arguments,0>=c||c>e?(clearTimeout(r),r=null,s=d,n=t.apply(i,o),r||(i=o=null)):r||a.trailing===!1||(r=setTimeout(l,c)),n}},h.debounce=function(t,e,a){var i,o,n,r,s,l=function(){var d=h.now()-r;e>d&&d>0?i=setTimeout(l,e-d):(i=null,a||(s=t.apply(n,o),i||(n=o=null)))};return function(){n=this,o=arguments,r=h.now();var d=a&&!i;return i||(i=setTimeout(l,e)),d&&(s=t.apply(n,o),n=o=null),s}},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var a=e,i=t[e].apply(this,arguments);a--;)i=t[a].call(this,i);return i}},h.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},h.before=function(t,e){var a;return function(){return--t>0?a=e.apply(this,arguments):e=null,a}},h.once=h.partial(h.before,2),h.keys=function(t){if(!h.isObject(t))return[];if(u)return u(t);var e=[];for(var a in t)h.has(t,a)&&e.push(a);return e},h.values=function(t){for(var e=h.keys(t),a=e.length,i=Array(a),o=0;a>o;o++)i[o]=t[e[o]];return i},h.pairs=function(t){for(var e=h.keys(t),a=e.length,i=Array(a),o=0;a>o;o++)i[o]=[e[o],t[e[o]]];return i},h.invert=function(t){for(var e={},a=h.keys(t),i=0,o=a.length;o>i;i++)e[t[a[i]]]=a[i];return e},h.functions=h.methods=function(t){var e=[];for(var a in t)h.isFunction(t[a])&&e.push(a);return e.sort()},h.extend=function(t){if(!h.isObject(t))return t;for(var e,a,i=1,o=arguments.length;o>i;i++){e=arguments[i];for(a in e)d.call(e,a)&&(t[a]=e[a])}return t},h.pick=function(t,e,a){var i,o={};if(null==t)return o;if(h.isFunction(e)){e=f(e,a);for(i in t){var n=t[i];e(n,i,t)&&(o[i]=n)}}else{var l=s.apply([],r.call(arguments,1));t=new Object(t);for(var d=0,c=l.length;c>d;d++)i=l[d],i in t&&(o[i]=t[i])}return o},h.omit=function(t,e,a){if(h.isFunction(e))e=h.negate(e);else{var i=h.map(s.apply([],r.call(arguments,1)),String);e=function(t,e){return!h.contains(i,e)}}return h.pick(t,e,a)},h.defaults=function(t){if(!h.isObject(t))return t;for(var e=1,a=arguments.length;a>e;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t};var y=function(t,e,a,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=l.call(t);if(o!==l.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var n=a.length;n--;)if(a[n]===t)return i[n]===e;var r=t.constructor,s=e.constructor;if(r!==s&&"constructor"in t&&"constructor"in e&&!(h.isFunction(r)&&r instanceof r&&h.isFunction(s)&&s instanceof s))return!1;a.push(t),i.push(e);var d,c;if("[object Array]"===o){if(d=t.length,c=d===e.length)for(;d--&&(c=y(t[d],e[d],a,i)););}else{var u,p=h.keys(t);if(d=p.length,c=h.keys(e).length===d)for(;d--&&(u=p[d],c=h.has(e,u)&&y(t[u],e[u],a,i)););}return a.pop(),i.pop(),c};h.isEqual=function(t,e){return y(t,e,[],[])},h.isEmpty=function(t){if(null==t)return!0;if(h.isArray(t)||h.isString(t)||h.isArguments(t))return 0===t.length;for(var e in t)if(h.has(t,e))return!1;return!0},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=c||function(t){return"[object Array]"===l.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){h["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return h.has(t,"callee")}),"function"!=typeof/./&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&t!==+t},h.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){return null!=t&&d.call(t,e)},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(t){return function(e){return e[t]}},h.matches=function(t){var e=h.pairs(t),a=e.length;return function(t){if(null==t)return!a;t=new Object(t);for(var i=0;a>i;i++){var o=e[i],n=o[0];if(o[1]!==t[n]||!(n in t))return!1}return!0}},h.times=function(t,e,a){var i=Array(Math.max(0,t));e=f(e,a,1);for(var o=0;t>o;o++)i[o]=e(o);return i},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=h.invert(T),k=function(t){var e=function(e){return t[e]},a="(?:"+h.keys(t).join("|")+")",i=RegExp(a),o=RegExp(a,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};h.escape=k(T),h.unescape=k(w),h.result=function(t,e){if(null!=t){var a=t[e];return h.isFunction(a)?t[e]():a}};var C=0;h.uniqueId=function(t){var e=++C+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_=/\\|'|\r|\n|\u2028|\u2029/g,S=function(t){return"\\"+$[t]};h.template=function(t,e,a){!e&&a&&(e=a),e=h.defaults({},e,h.templateSettings);var i=RegExp([(e.escape||x).source,(e.interpolate||x).source,(e.evaluate||x).source].join("|")+"|$","g"),o=0,n="__p+='";t.replace(i,function(e,a,i,r,s){return n+=t.slice(o,s).replace(_,S),o=s+e.length,a?n+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":i?n+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(n+="';\n"+r+"\n__p+='"),e}),n+="';\n",e.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var r=new Function(e.variable||"obj","_",n)}catch(s){throw s.source=n,s}var l=function(t){return r.call(this,t,h)},d=e.variable||"obj";return l.source="function("+d+"){\n"+n+"}",l},h.chain=function(t){var e=h(t);return e._chain=!0,e};var D=function(t){return this._chain?h(t).chain():t};h.mixin=function(t){h.each(h.functions(t),function(e){var a=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return n.apply(t,arguments),D.call(this,a.apply(h,t))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];h.prototype[t]=function(){var a=this._wrapped;return e.apply(a,arguments),"shift"!==t&&"splice"!==t||0!==a.length||delete a[0],D.call(this,a)}}),h.each(["concat","join","slice"],function(t){var e=a[t];h.prototype[t]=function(){return D.call(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(e){jQuery.fn.extend({slimScroll:function(a){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:0,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=e.extend(i,a);return this.each(function(){function i(t){if(c){var t=t||window.event,a=0;t.wheelDelta&&(a=-t.wheelDelta/120),t.detail&&(a=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+o.wrapperClass).is(w.parent())&&n(a,!0),t.preventDefault&&!T&&t.preventDefault(),T||(t.returnValue=!1)}}function n(t,e,a){T=!1;var i=t,n=w.outerHeight()-S.outerHeight();if(e&&(i=parseInt(S.css("top"))+t*parseInt(o.wheelStep)/100*S.outerHeight(),i=Math.min(Math.max(i,0),n),i=t>0?Math.ceil(i):Math.floor(i),S.css({top:i+"px"})),b=parseInt(S.css("top"))/(w.outerHeight()-S.outerHeight()),i=b*(w[0].scrollHeight-w.outerHeight()),a){i=t;var r=i/w[0].scrollHeight*w.outerHeight();r=Math.min(Math.max(r,0),n),S.css({top:r+"px"})}w.scrollTop(i),w.trigger("slimscrolling",~~i),l(),d()}function r(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1),this.addEventListener("MozMousePixelScroll",i,!1)):document.attachEvent("onmousewheel",i)}function s(){m=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),y),S.css({height:m+"px"});var t=m==w.outerHeight()?"none":"block";S.css({display:t})}function l(){if(s(),clearTimeout(h),b==~~b){if(T=o.allowPageScroll,v!=b){var t=0==~~b?"top":"bottom";w.trigger("slimscroll",t)}}else T=!1;return v=b,m>=w.outerHeight()?void(T=!0):(S.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&_.stop(!0,!0).fadeIn("fast")))}function d(){o.alwaysVisible||(h=setTimeout(function(){o.disableFadeOut&&c||u||p||(S.fadeOut("slow"),_.fadeOut("slow"))},1e3))}var c,u,p,h,f,m,b,v,g="<div></div>",y=30,T=!1,w=e(this);if(w.parent().hasClass(o.wrapperClass)){var k=w.scrollTop();if(S=w.parent().find("."+o.barClass),_=w.parent().find("."+o.railClass),s(),e.isPlainObject(a)){if("height"in a&&"auto"==a.height){w.parent().css("height","auto"),w.css("height","auto");var C=w.parent().parent().height();w.parent().css("height",C),w.css("height",C)}else if("height"in a){var x=a.height;w.parent().css("height",x),w.css("height",x)}if("scrollTo"in a)k=parseInt(o.scrollTo);else if("scrollBy"in a)k+=parseInt(o.scrollBy);else if("destroy"in a)return S.remove(),_.remove(),void w.unwrap();n(k,!1,!0)}}else{o.height="auto"==o.height?w.parent().height():o.height;var $=e(g).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});w.css({overflow:"hidden",width:o.width,height:o.height});var _=e(g).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),S=e(g).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),D="right"==o.position?{right:o.distance}:{left:o.distance};_.css(D),S.css(D),w.wrap($),w.parent().append(S),w.parent().append(_),o.railDraggable&&S.bind("mousedown",function(a){var i=e(document);return p=!0,t=parseFloat(S.css("top")),pageY=a.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,S.css("top",currTop),n(0,S.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){p=!1,d(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),_.hover(function(){l()},function(){d()}),S.hover(function(){u=!0},function(){u=!1}),w.hover(function(){c=!0,l(),d()},function(){c=!1,d()}),w.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(t){if(T||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(f-t.originalEvent.touches[0].pageY)/o.touchScrollStep;n(e,!0),f=t.originalEvent.touches[0].pageY}}),s(),"bottom"===o.start?(S.css({top:w.outerHeight()-S.outerHeight()}),n(0,!0)):"top"!==o.start&&(n(e(o.start).position().top,null,!0),o.alwaysVisible||S.hide()),r()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery);var graphLendbookDepthChartETH,minZoom,maxZoom,lowestAsk,lowestBid,highestAsk,highestBid;$(function(){$.getJSON("../json/swapstats/bitfinexSwapDepthChartETHbids.json",function(t){$.getJSON("../json/swapstats/bitfinexSwapDepthChartETHasks.json",function(e){$.getJSON("../json/bitfinexFrrRateETH.json",function(a){highestAsk=parseFloat(e[e.length-1][0]),highestBid=parseFloat(t[t.length-1][0]),lowestAsk=parseFloat(e[0][0]),lowestBid=parseFloat(t[0][0]),minZoom=parseFloat(highestBid)-.03,lowestBid>=minZoom&&(minZoom=lowestBid),maxZoom=parseFloat(lowestAsk)+.03,Highcharts.setOptions({global:{useUTC:!0}});var i="FRR: ",o=a.toString(),n=i.concat(o),r=$("#lendbookDepthChart").height(),s=-.9*r;graphLendbookDepthChartETH=new Highcharts.Chart({chart:{renderTo:"lendbookDepthChart",type:"area",animation:!1,spacingTop:-10,spacingBottom:0,spacingLeft:0,spacingRight:0,events:{load:function(){this.xAxis[0].setExtremes(minZoom,maxZoom)}},resetZoomButton:{theme:{display:"none"}}},navigation:{enabled:!1,buttonOptions:{verticalAlign:"top",x:-60,y:-127}},credits:{enabled:!1},title:{text:"",style:{display:"none"}},xAxis:{gridLineWidth:1,lineWidth:1,minorTickInterval:"auto",minorTickColor:"#FEFEFE",title:{enabled:!1,text:"Rate DRKETH",style:{fontWeight:"normal",display:"none"}}},yAxis:{gridLineWidth:1,minorTickInterval:"auto",minorTickColor:"#FEFEFE",opposite:!0,labels:{align:"left",x:5,y:0,enabled:!0},title:{enabled:!1,text:"Volume Sum",style:{fontWeight:"normal",display:"none"}}},legend:{align:"center",verticalAlign:"top",y:10,floating:!0,backgroundColor:"#FFFFFF",shadow:!0,enabled:!1},plotOptions:{series:{lineWidth:1,animation:!1,marker:{enabled:!1}}},tooltip:{crosshairs:[!0,!0],formatter:function(){var t="Sum: "+this.y;return t+="<br/>Rate: "+this.x}},series:[{name:"Bids",id:"bids",data:t,color:"rgba(204,63,51,1.0)",fillColor:"rgba(204,63,51,0.2)"},{name:"Asks",id:"asks",data:e,color:"rgba(90,151,112,1.0)",fillColor:"rgba(90,151,112,0.2)"},{type:"flags",name:"FRR",data:[{x:a,title:n}],shape:"squarepin",y:s,showInLegend:!1}]})})})})}),$("#zoomOut").click(function(){zoomMinDiff=minZoom-lowestBid,zoomMin=zoomMinDiff/2,minZoom-=zoomMin,zoomPlusDiff=maxZoom-lowestAsk,zoomPlus=1*zoomPlusDiff,maxZoom+=zoomPlus,maxZoom>=highestAsk&&(maxZoom=highestAsk),graphLendbookDepthChartETH.xAxis[0].setExtremes(minZoom,maxZoom)}),$("#zoomIn").click(function(){zoomMinDiff=highestBid-minZoom,zoomMin=zoomMinDiff/2,minZoom+=zoomMin,zoomPlusDiff=maxZoom-lowestAsk,zoomPlus=zoomPlusDiff/2,maxZoom-=zoomPlus,graphLendbookDepthChartETH.xAxis[0].setExtremes(minZoom,maxZoom)});var last24HourRatioChart;$(function(){$.getJSON("/json/variableFrrRatio24HourETH.json",function(t){Highcharts.setOptions({colors:["rgba(53,118,190,0.9)","rgba(171,199,231,0.9)"]}),last24HourRatioChart=new Highcharts.Chart({chart:{renderTo:"ratioChart24h",plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1,animation:!1,spacingTop:-30,spacingBottom:20,spacingLeft:30,spacingRight:30,backgroundColor:"rgba(255, 255, 255, 0)"},title:{text:"Sell / Buy Ratio (24h)",align:"center",verticalAlign:"middle",style:{fontSize:"130%",display:"none"},y:-60},exporting:{enabled:!1},credits:{enabled:!1},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-20,style:{fontWeight:"bold",color:"white",textShadow:"0px 1px 2px black"}},animation:!1,startAngle:-90,endAngle:90,center:["50%","75%"]}},series:[{type:"pie",name:"Buy / Sell Ratio",innerSize:"50%",data:t}]})})});var lastHourRatioChart;$(function(){$.getJSON("/json/variableFrrRatioLastHourETH.json",function(t){Highcharts.setOptions({colors:["rgba(53,118,190,0.9)","rgba(171,199,231,0.9)"]}),lastHourRatioChart=new Highcharts.Chart({chart:{renderTo:"ratioChart1h",plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1,animation:!1,spacingTop:-30,spacingBottom:20,spacingLeft:30,spacingRight:30,backgroundColor:"rgba(255, 255, 255, 0)"},title:{text:"Sell / Buy Ratio (24h)",align:"center",verticalAlign:"middle",style:{fontSize:"130%",display:"none"},y:-60},exporting:{enabled:!1},credits:{enabled:!1},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-20,style:{fontWeight:"bold",color:"white",textShadow:"0px 1px 2px black"}},animation:!1,startAngle:-90,endAngle:90,center:["50%","75%"]}},series:[{type:"pie",name:"Buy / Sell Ratio",innerSize:"50%",data:t}]})})});var graphLastSwapsETH,lastSwapTimestamp;$(function(){$.getJSON("../json/lastSwapsETH.json",function(t){Highcharts.setOptions({global:{useUTC:!0}});var e=[],a=[],o=t.length;for(i=0;i<o;i++){var n=t[i][0]/1e3;n=1e3*Math.floor(n),e.push([n,t[i][1]]);var r=t[i][2];a.push([n,r])}lastSwapTimestamp=parseInt(t[o-1][0]);graphLastSwapsETH=new Highcharts.StockChart({chart:{renderTo:"lastSwapsChart",spacingTop:0,spacingRight:0,spacingLeft:0},navigator:{height:20,margin:2},navigation:{buttonOptions:{verticalAlign:"top",y:0,x:-350}},rangeSelector:{inputPosition:{x:-70,y:0},buttons:[{type:"hour",count:6,text:"6h"},{type:"hour",count:24,text:"24h"},{type:"day",count:7,text:"7d"},{type:"all",text:"All"}],selected:0},scrollbar:{enabled:!1},title:{text:"Last ETH Swaps",style:{color:"rgba(55,77,108,0)",fontSize:"22px",display:"none"},y:55,floating:!1},xAxis:{type:"datetime",gridLineWidth:1,minTickInterval:6e4,title:{enabled:!1,text:"Time",style:{fontWeight:"normal"}}},credits:{enabled:!0,href:"http://www.bfxdata.com",text:"BFXdata.com"},yAxis:[{title:{text:"Rate (% / day)"},labels:{align:"left"},minorTickInterval:"auto",opposite:!0},{title:{color:"rgba(0,0,0,0.4)",text:"Volume (ETH)"},labels:{align:"right"},opposite:!1}],tooltip:{valueDecimals:5},plotOptions:{series:{animation:!1,groupPixelWidth:2},candlestick:{color:"#DD2F29",upColor:"#87DA3B",lineColor:"#666"}},series:[{type:"spline",name:"Swap Rate ETH",lineWidth:1,color:"#428bca",data:e,dataGrouping:{enabled:!0,forced:!0,groupPixelWidth:2,approximation:"high",units:[["second",[1]],["minute",[1]],["minute",[2]],["minute",[5]],["minute",[15]],["minute",[30]],["hour",[1]],["hour",[2]],["hour",[3]],["hour",[6]],["hour",[12]]]}},{type:"column",name:"Volume",data:a,color:"rgba(0,0,0,0.4)",yAxis:1,dataGrouping:{enabled:!0,forced:!0,groupPixelWidth:2,units:[["second",[1]],["minute",[1]],["minute",[2]],["minute",[5]],["minute",[15]],["minute",[30]],["hour",[1]],["hour",[2]],["hour",[3]],["hour",[6]],["hour",[12]]]}}]})})});var socket,tickerLoaded=!1,bfxdataTodayloaded=!1,swapstatsTableFirstLoad=!0,previousWidth,swapsOld,swapsCurrent,swapsNew,depthAsksOld={},depthAsksCurrent,depthAsksNew={},depthBidsOld={},depthBidsCurrent,depthBidsNew={},lastPID;$(document).ready(function(){bfxdataToday(),bfxdataToday1minute(),makeSwapStatsTables();var t=$(window).width();tickerResize(t),footerFirstload(t),startwebsocketio(),startTime()}),$(window).resize(function(){var t=$(window).width();tickerResize(t),footerResize(t)}),firstBy=function(){function t(t,e){if("function"!=typeof t){var a=t;t=function(t,e){return t[a]<e[a]?-1:t[a]>e[a]?1:0}}return-1===e?function(e,a){return-t(e,a)}:t}function e(e,i){return e=t(e,i),e.thenBy=a,e}function a(a,i){var o=this;return a=t(a,i),e(function(t,e){return o(t,e)||a(t,e)})}return e}();