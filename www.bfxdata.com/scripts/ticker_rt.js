function startTime(){var e=new Date,t=e.getUTCHours(),r=e.getMinutes(),a=e.getSeconds();t=checkTime(t),r=checkTime(r),a=checkTime(a),document.getElementById("clock").innerHTML=t+":"+r+":"+a+" (UTC)&nbsp &nbsp &nbsp;";setTimeout(function(){startTime()},500)}function checkTime(e){return 10>e&&(e="0"+e),e}function updateTicker(){$.ajax({url:"../json/ticker_rt.json",type:"GET",dataType:"json",timeout:3e3,cache:!1,success:function(data){data=eval(data),updateTickerValues(data),setTimeout(updateTicker,1e4),tickerLoaded=!0},error:function(e,t){"timeout"===t?(console.log("Error: ticker datarequest timeout"),setTimeout(updateTicker,5e3)):(console.log("Error: "+t),setTimeout(updateTicker,5e3))}})}function updateTickerValue(e,t){var r="#"+e;t=parseFloat(t);for(var a=$(r).text();-1!=a.indexOf(",");)a=a.replace(",","");a=parseFloat(a);var c=e.substr(e.length-6);if("BTCUSD"==c)var i=3;else if("LTCUSD"==c)var i=5;else if("BTCCNY"==c)var i=2;else if("LTCCNY"==c)var i=2;else var i=1;t>a&&(tickerLoaded&&$(r).css("color","green"),$(r).html(formatTickerNumber(t,i))),a>t&&(tickerLoaded&&$(r).css("color","red"),$(r).html(formatTickerNumber(t,i)))}function updateTickerValues(e){jQuery.each(e,function(e,t){updatedValue=t,updateTickerValue(e,updatedValue)})}function formatTickerNumber(e,t){e=e.toFixed(t)+"",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var r=/(\d+)(\d{3})/;r.test(x1);)x1=x1.replace(r,"$1,$2");return x1+x2}var tickerLoaded=!1;$(document).ready(function(){updateTicker(),startTime()});